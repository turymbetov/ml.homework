Давайте возьмем вот этот датасет:  
  
https://snap.stanford.edu/data/loc-Gowalla.html  
  
Задание: на графе пользователей найти кластера методом Affinity Propagation. Сравнить эффективность полученных кластеров в задаче рекомендации мест (рядом с графом есть лог чекинов). Чекины для части пользователей прячем, а потом строим "рекомендации" на базе топа чекинов из кластера, куда попал пользователь. Качество рекомендации меряем по точности для первых 10 рекомендованных элементов. Если 10 набрать не удалось (в кластер не попало достаточно пользователей с чекинами) каждый недобранный айтем считаем за промах.

Пояснение: Сначала мы используя файл графа дружбы разбиваем пользователей на кластера с помощью афинити пропагейшн. Далее работаем с файлом другим про id юзера и локацию чекина. Прячем чекины каких то пользователей. Далее на оставшемся мы считаем сколько раз юзеры из кластера конкретного спрятанного пользователя чекинились в конкретном месте. Топ 10 мест для чекина по этому рейтингу мест мы рекомендуем для чекина нашему спрятанному пользователю. Смысл в том, что если его круг общения (кластер) тут часто бывает, то мы и ему рекомендуем это место. А потом проверяем этот топ 10 сравнивая с его чекинами спрятанными. Считаем процент попаданий. Если недобралось 10 мест для кластера этого пользователя, то любое недостоющее считаем за место где он не чекинился (промах рекомендательной системы).

